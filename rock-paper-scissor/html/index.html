<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissor</title>
</head>

<body>
    <div id="top">
        <h1>ROCK PAPER SCISSOR GAME</h1>
    </div>
    <div id="main">
        <div class="choiceCard">
            <img src="../images/rock.png">
            <button class="btn" value="rock">Play Rock</button>
        </div>
        <div class="choiceCard">
            <img src="../images/paper.png">
            <button class="btn" value="paper">Play Paper</button>
        </div>
        <div class="choiceCard">
            <img src="../images/scissor.png">
            <button class="btn" value="scissor">Play Scissor</button>
        </div>
        <div id="score">
            <h2>SCORE</h2>
            <p>PLAYER:0</p>
            <p>COMPUTER:0</p>
        </div>
    </div>
</body>

<style>
    #main {
        width: 100%;
        text-align: center;
        margin-top: 100px;
        bottom: 0;
        top: 0;
        right: 0;
        left: 0;
        position: fixed;
        background-color: wheat;
    }

    .choiceCard {
        display: inline-block;
        margin-right: 100px;
        margin-top: 50px;
        box-shadow: rgb(24, 33, 49) 10px 10px;
        border: solid black 5px;
        border-radius: 10px;
        background-color: white;
    }


    img {
        width: 120px;
        height: 120px;
        display: block;
        margin-bottom: 30px;
        text-align: center;
    }

    #score {
        display: block;
        background-color: black;
        color: tomato;
        font-weight: bold;
        position: absolute;
        width: 100%;
        bottom: 0;
        text-align: center;
    }

    #top {
        text-align: center;
        color: tomato;
        background-color: black;
        top: 0;
        right: 0;
        position: absolute;
        width: 100%;
    }

    body {
        background-color: wheat;
    }

    button {
        width: 120px;
        height: 30px;
        border-radius: 5px;
        border: none;
        background-color: wheat;
    }

    button:hover {
        border: solid 2px coral;
    }
</style>

<script>
    let score = document.getElementById("score").childNodes;
    let cPoints = 0;
    let pPoints = 0;

    score = Array.from(score);
    let computerPlay = () => {
        let choices = ["rock", "paper", "scissor"];
        let play = choices[Math.floor(Math.random() * choices.length)];
        return play;
    }
    let cont = 0;
    let computerChoice, humanChoice;
    let btn = document.querySelectorAll(".btn");
    btn.forEach(btn => btn.addEventListener("click", () => {
        humanChoice = btn.value;
        playGame(humanChoice);
        checkEnd(pPoints, cPoints);
        if (checkEnd(pPoints, cPoints) === 1)
            location.reload();
    }))

    function playGame(humanChoice) {
        computerChoice = computerPlay();
        switch (humanChoice) {
            case "rock":
                if (computerChoice == "paper") {
                    alert("You lost! Computer played " + computerChoice + " and you played " + humanChoice);
                    cPoints++;
                    score[5].textContent = "COMPUTER:" + cPoints;
                }
                else if (computerChoice == "scissor") {
                    alert("You won! Computer played " + computerChoice + " and you played " + humanChoice);
                    pPoints++;
                    score[3].textContent = "PLAYER:" + pPoints;

                }
                else {
                    alert("It's a tie! Computer played " + computerChoice + " and you played " + humanChoice);
                }
                break;
            case "paper":
                if (computerChoice == "paper") {
                    alert("It's a tie! Computer played " + computerChoice + " and you played " + humanChoice);
                }
                else if (computerChoice == "scissor") {
                    alert("You lost! Computer played " + computerChoice + " and you played " + humanChoice);
                    cPoints++;
                    score[5].textContent = "COMPUTER:" + cPoints;
                }
                else {
                    alert("You won! Computer played " + computerChoice + " and you played " + humanChoice);
                    pPoints++;
                    score[3].textContent = "PLAYER:" + pPoints;
                }
                break;
            case "scissor":
                if (computerChoice == "paper") {
                    alert("You won! Computer played " + computerChoice + " and you played " + humanChoice);
                    pPoints++;
                    score[3].textContent = "PLAYER:" + pPoints;
                }
                else if (computerChoice == "scissor") {
                    alert("It's a tie! Computer played " + computerChoice + " and you played " + humanChoice);
                }
                else {
                    alert("You lost! Computer played " + computerChoice + " and you played " + humanChoice);
                    cPoints++;
                    score[5].textContent = "COMPUTER:" + cPoints;
                }
                break;
        }
    }
    function checkEnd(pPoints, cPoints) {
        if (pPoints >= 5) {
            alert("YOU WON!\nRESTARTING THE GAME...");
            return 1;
        }
        else if (cPoints >= 5) {
            alert("THE COMPUTER WON!\nRESTARTING THE GAME...");
            return 1;
        }
    }



</script>

</html>